<!doctype html>

<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
	<title>GamelinJS - Gameboy Emulator</title>
	<link href="index.css" type="text/css" rel="stylesheet">
</head>
<body>

	<div class="container preloader_container flex">
		<div class="preloader flex">
			<div class="preloader_spinner"></div>
			<div class="preloader_text">Loading emulator...</div>
		</div>
	</div>

	<script type="text/javascript">
		function preloader_complete() {
			document.querySelector(".preloader_container").classList.add("preloader_container_hidden")
		}
	</script>

	<div class="container flex">
		<h2>GamelinJS - An online GameBoy emulator</h2>
		<canvas width="160" height="144" id="screen"></canvas>
		<div class="file-div">
            <label class="fileinput">
                <p id="filetext">Select GameBoy ROM...</p>
                <input id="game" type="file" name="fileinput">
            </label>
        </div>
	</div>

	<script type="text/javascript" src="gamelin.js" onload="preloader_complete()"></script>
	<script type="text/javascript">
	(() => {
		let options = { passive: false };
		let lastTouchEnd = 0;
		document.addEventListener("touchstart", (e) => { e.preventDefault(); }, options);
		document.addEventListener('touchmove', (e) => { if (e.scale !== 1) e.preventDefault(); }, options);
		document.addEventListener('touchend', (e) => {
			const now = Date.now();
			if (now - lastTouchEnd <= 300) e.preventDefault();
			lastTouchEnd = now;
		}, options);
	})()
	</script>
</body>
</html>
